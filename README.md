# Cat-Conquest: 猫咪征服 - Roguelike 弹球模块

一个使用 Cocos Creator 3.x 和 TypeScript 构建的微信小游戏，将经典的打砖块/Arkanoid 玩法与Roguelike元素相结合，包含能力道具和被动遗物系统。

## 🚀 编译和启动

### 前置要求
- Cocos Creator 3.x（推荐：3.8.0 或更高版本）
- 微信开发者工具（用于小游戏开发）
- Node.js 和 npm（用于依赖管理）

### 构建流程

1. **安装依赖**
   ```bash
   npm install
   ```

2. **在 Cocos Creator 中打开**
   - 启动 Cocos Creator 3.x
   - 打开项目目录：`D:\project\claudecode\wx\Cat_Journey`
   - 主场景将自动加载：`assets/scenes/GameScene.scene`

3. **构建微信小游戏**
   - 在 Cocos Creator 中：项目 → 构建
   - 选择平台："微信小游戏"
   - 配置构建设置：
     - 标题："Cat-Conquest: Roguelike Breakout"
     - 屏幕方向：横屏
     - 分辨率：960x640（启用适配宽高）
   - 点击"构建"

4. **部署到微信开发者工具**
   - 打开微信开发者工具
   - 从 `build/wechatgame/` 导入构建后的项目
   - 在设备/模拟器上预览和测试

## 🎮 游戏玩法介绍

### 核心机制
**创新弹球游戏** - 控制挡板保持弹球在场内，通过摧毁所有砖块来完成关卡。但这不是普通的弹球游戏！

### 操作控制
- **触摸/鼠标**：通过触摸或拖拽水平移动挡板
- **激光能力**：当激光挡板能力激活时，触摸/点击发射激光
- **边界约束**：挡板自动保持在屏幕范围内

### Roguelike 元素

#### 🔋 能力道具（临时效果）
能力道具从被摧毁的砖块随机掉落（20%概率），被挡板收集后激活：

- **多球能力道具**（黄色）
  - 以扇形模式生成2个额外弹球
  - 瞬时效果，无持续时间限制
  
- **激光挡板能力道具**（红色）
  - 持续时间：10秒
  - 使挡板能够向上发射激光
  - 发射频率：射击间隔0.5秒
  - 激光对砖块造成1点伤害

#### 🛡️ 遗物（永久升级）
遗物是持续跨关卡的被动升级。每完成一个关卡后将获得一个随机遗物：

- **爆炸砖块** 💥
  - 任何砖块被摧毁时，对100单位范围内的所有砖块造成1点伤害
  - 创造令人满意的连锁反应

- **多球开局**（未来扩展）
  - 每关卡开始时拥有3个弹球而不是1个

- **激光强化**（未来扩展）  
  - 激光能力道具造成双倍伤害

- **穿透射击**（未来扩展）
  - 弹球可以穿过砖块，连续摧毁多个

- **速度提升**（未来扩展）
  - 弹球移动速度提高25%

### 游戏流程
1. **准备阶段**（2秒）
   - 关卡初始化砖块布局
   - 弹球和挡板生成在起始位置

2. **游玩阶段**
   - 弹球自动以一定角度发射
   - 摧毁所有砖块以完成关卡
   - 收集能力道具获得临时优势

3. **关卡完成阶段**（3秒）
   - 获得随机遗物奖励
   - 下一关卡生成并提高难度

4. **游戏结束阶段**
   - 当所有生命耗尽时触发
   - 弹球掉入底部死亡区域

### 进度系统
- **生命值**：开始时拥有3条生命，弹球撞击死亡区域时失去1条
- **分数**：每摧毁一个砖块获得10分
- **关卡**：程序生成的布局，更高关卡包含多重击砖块
- **难度**：后期关卡中的砖块有2点生命值（50%概率）

## 🏗️ 技术架构

### 核心组件
- **GameManager.ts**：管理游戏状态和关卡进度的单例
- **PaddleController.ts**：带边界约束的触摸/鼠标输入处理  
- **Ball.ts**：基于物理的完美弹跳机制运动
- **Brick.ts**：生命系统和碰撞检测，带能力道具掉落
- **DeathZone.ts**：底部边界触发器，用于生命损失

### 能力道具系统
- **PowerUp.ts**：所有能力道具效果的抽象基类
- **MultiBallPowerUp.ts**：多球生成实现
- **LaserPaddlePowerUp.ts**：激光射击机制
- **Laser.ts**：弹丸物理和砖块伤害

### 遗物系统  
- **RelicManager.ts**：追踪持续升级的单例
- **RelicUI.ts**：激活遗物的显示组件
- **爆炸砖块**：已实现的AOE伤害系统

### 物理配置
- **重力**：(0, -320) 实现真实的能力道具掉落
- **碰撞矩阵**：配置弹球 ↔ 挡板、弹球 ↔ 砖块、弹球 ↔ 墙壁
- **材质**：完美弹跳（恢复系数=1.0，摩擦力=0.0）确保一致的游戏性

## 📱 平台优化
- **微信小游戏**：完全配置适配微信生态系统
- **分辨率**：960x640，支持响应式缩放
- **性能**：优化的物理时间步长和碰撞检测
- **输入**：支持触摸和鼠标，兼容广泛设备

---

**准备好体验经典弹球动作与现代Roguelike进度系统的令人上瘾的组合！** 🎯

*使用 [Claude Code](https://claude.ai/code) 生成*