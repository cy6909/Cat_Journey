# Cat Journey Phase 2 å¼€å‘è®¡åˆ’ - Roguelikeæ ¸å¿ƒç³»ç»Ÿ

**è®¡åˆ’ç‰ˆæœ¬**: 2.0
**åˆ¶å®šæ—¥æœŸ**: 2025-10-14
**ç›®æ ‡å‘¨æœŸ**: 2-3å‘¨
**æ ¸å¿ƒç†å¿µ**: "ç®€å•çš„æ·±åº¦" - ç”¨æœ€ç®€æ´çš„å®ç°åˆ›é€ æœ€æ·±çš„ç­–ç•¥

---

## ğŸ¯ Phase 2 æ ¸å¿ƒç›®æ ‡

å°†å½“å‰çš„å…³å¡å‹æ¸¸æˆè½¬å˜ä¸ºçœŸæ­£çš„Roguelikeä½“éªŒï¼Œæ ¸å¿ƒåœ¨äºï¼š
1. **åœ°å›¾é€‰æ‹©æœºåˆ¶** - æ ‘çŠ¶è·¯å¾„ï¼Œç©å®¶æœ‰é€‰æ‹©æƒ
2. **é—ç‰©ç³»ç»Ÿæ‰©å±•** - 25ç§é—ç‰©åˆ›é€ Buildå¤šæ ·æ€§
3. **å‡çº§é€‰æ‹©ç³»ç»Ÿ** - æ¯æ¬¡å‡çº§éƒ½æ˜¯ç­–ç•¥å†³ç­–
4. **ç²¾è‹±/Bossè®¾è®¡** - æŒ‘æˆ˜ä¸å¥–åŠ±çš„å¹³è¡¡

---

## ğŸ“Š å½“å‰é¡¹ç›®çŠ¶æ€å¿«ç…§

### âœ… å·²å®Œæˆç³»ç»Ÿ (45%)
- æ ¸å¿ƒç³»ç»Ÿ: 25x25çƒç –äº¤äº’ (95%)
- ç»éªŒç³»ç»Ÿ: å®Œæ•´å®ç° (100%)
- å¸ƒå±€ç³»ç»Ÿ: 10ç§å¸ƒå±€æ¨¡æ¿ (100%)
- éš¾åº¦ç³»ç»Ÿ: è‡ªé€‚åº”éš¾åº¦ (100%)
- å¼€å‘å·¥å…·: DevToolså®Œå–„ (100%)

### âŒ å¾…å®Œæˆç³»ç»Ÿ
- ç²¾çµæ˜¾ç¤º: ç¨‹åºåŒ–ç”Ÿæˆ (0%)
- åœ°å›¾ç³»ç»Ÿ: æœªå¼€å§‹ (0%)
- é—ç‰©æ‰©å±•: ä»…5ç§åŸºç¡€ (20%)
- å‡çº§é€‰æ‹©: æœªå®ç° (0%)
- éŸ³æ•ˆç³»ç»Ÿ: æœªé›†æˆ (0%)

---

## ğŸ—ºï¸ ç³»ç»Ÿ1: ç«–å±å·è½´åœ°å›¾ç³»ç»Ÿ

### è®¾è®¡ç†å¿µ (Linuså¼æ€è€ƒ)
```
"è¿™æ˜¯ä¸ªçœŸé—®é¢˜å—ï¼Ÿ" - æ˜¯çš„ï¼Œçº¿æ€§å…³å¡è®©ç©å®¶æ²¡æœ‰é€‰æ‹©æƒ
"æœ‰æ›´ç®€å•çš„æ–¹æ³•å—ï¼Ÿ" - æ ‘çŠ¶ç»“æ„ï¼Œæœ€ç®€å•çš„åˆ†æ”¯é€‰æ‹©
"ä¼šç ´åä»€ä¹ˆå—ï¼Ÿ" - ä¸ä¼šï¼Œå¢å¼ºè€Œéæ›¿ä»£ç°æœ‰ç³»ç»Ÿ
```

### æ•°æ®ç»“æ„è®¾è®¡
```typescript
// æç®€çš„èŠ‚ç‚¹å®šä¹‰ - æ— ç‰¹æ®Šæƒ…å†µ
interface MapNode {
    id: number;
    type: 'normal' | 'elite' | 'boss' | 'shop' | 'event';
    difficulty: number;  // æ™®é€š+1, ç²¾è‹±+5, Boss+10
    position: Vec2;      // å±å¹•åæ ‡
    children: number[];  // ä¸‹ä¸€æ­¥å¯é€‰èŠ‚ç‚¹ID
}

// åœ°å›¾ç”Ÿæˆå™¨ - çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨
class MapGenerator {
    // 3å±‚ç¼©è¿›ä»¥å†…ï¼Œç¬¦åˆLinusæ ‡å‡†
    generateTree(depth: number = 15): MapNode[] {
        const nodes: MapNode[] = [];
        // ç¬¬1å±‚: 3ä¸ªèµ·ç‚¹
        // ç¬¬2-4å±‚: æ¯å±‚åˆ†å‰2-3
        // ç¬¬5å±‚: ç²¾è‹±å…³å¡
        // ç¬¬6-9å±‚: æ··åˆ
        // ç¬¬10å±‚: ç²¾è‹±å…³å¡
        // ç¬¬11-14å±‚: é«˜éš¾æ··åˆ
        // ç¬¬15å±‚: Boss
        return nodes;
    }
}
```

### å®ç°è®¡åˆ’
**Day 1-2**: æ•°æ®ç»“æ„ä¸ç”Ÿæˆç®—æ³•
- MapNodeæ¥å£å®šä¹‰
- MapGeneratoræ ‘ç”Ÿæˆ
- éš¾åº¦å›è°ƒæœºåˆ¶ (ç²¾è‹±å-4)

**Day 3-4**: UIæ¸²æŸ“
- ScrollViewç«–å±æ»šåŠ¨
- èŠ‚ç‚¹ç²¾çµ (åœ†å½¢ï¼Œä¸åŒé¢œè‰²)
- è¿çº¿ç»˜åˆ¶ (Graphics API)

**Day 5**: äº¤äº’é€»è¾‘
- ç‚¹å‡»é€‰æ‹©ä¸‹ä¸€èŠ‚ç‚¹
- è·¯å¾„é«˜äº®æ˜¾ç¤º
- è¿›åº¦ä¿å­˜

---

## ğŸ ç³»ç»Ÿ2: é—ç‰©ç³»ç»Ÿæ‰©å±• (5â†’25ç§)

### è®¾è®¡ç†å¿µ
```
æ ¸å¿ƒåˆ¤æ–­: âœ… å€¼å¾—åš - é—ç‰©æ˜¯Roguelikeçš„çµé­‚
å…³é”®æ´å¯Ÿ:
- æ•°æ®ç»“æ„: é—ç‰©=è¢«åŠ¨æ•ˆæœï¼Œç®€å•çš„å±æ€§ä¿®æ”¹å™¨
- å¤æ‚åº¦: é¿å…é—ç‰©é—´å¤æ‚äº¤äº’ï¼Œä¿æŒç‹¬ç«‹
- é£é™©ç‚¹: å¹³è¡¡æ€§ï¼Œéœ€è¦å¤§é‡æµ‹è¯•
```

### é—ç‰©åˆ†ç±»è®¾è®¡
```typescript
enum RelicCategory {
    OFFENSIVE,   // æ”»å‡»å‹ (5ç§)
    DEFENSIVE,   // é˜²å¾¡å‹ (5ç§)
    MECHANICAL,  // æœºåˆ¶å‹ (5ç§)
    SPECIAL      // ç‰¹æ®Šå‹ (10ç§)
}

// 25ç§é—ç‰©å®šä¹‰ - æ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ç®€å•æ•ˆæœ
const RELIC_DEFINITIONS = {
    // æ”»å‡»å‹
    HEAVY_BALL: { weight: 2.0, damage: 1.5 },      // çƒå˜é‡ï¼Œä¼¤å®³+50%
    SPLIT_SHOT: { onHit: () => spawnMiniBalls(2) }, // æ’å‡»åˆ†è£‚
    PIERCING: { penetration: 3 },                   // ç©¿é€3å±‚
    ACCELERATE: { speedGain: 1.02 },               // æ¯æ¬¡å¼¹å°„+2%é€Ÿåº¦
    AREA_DAMAGE: { explosionRadius: 50 },          // èŒƒå›´ä¼¤å®³

    // é˜²å¾¡å‹
    SHIELD_PADDLE: { damageReduction: 0.8 },       // æŒ¡æ¿å—æŸ-20%
    REGEN_PADDLE: { regenRate: 1 },                // æ¯ç§’å›å¤1è€ä¹…
    WIDER_PADDLE: { widthMultiplier: 1.3 },        // æŒ¡æ¿å®½åº¦+30%
    STICKY_PADDLE: { catchBall: true },            // å¯æ¥ä½çƒ
    REFLECT_DAMAGE: { returnDamage: 0.2 },         // åå¼¹20%ä¼¤å®³

    // æœºåˆ¶å‹
    MULTI_BALL: { startBalls: 2 },                 // å¼€å±€2çƒ
    SLOW_TIME: { timeScale: 0.8 },                 // æ—¶é—´å‡é€Ÿ20%
    MAGNET_BALL: { attraction: 100 },              // çƒå¸å¼•æ‰è½ç‰©
    COMBO_MASTER: { comboMultiplier: 2.0 },        // è¿å‡»åŠ æˆx2
    LUCKY_DROP: { dropRate: 1.5 },                 // æ‰è½ç‡+50%

    // ç‰¹æ®Šå‹ (10ç§ç•¥ï¼Œç±»ä¼¼è®¾è®¡)
};
```

### å®ç°è®¡åˆ’
**Day 6-8**: é—ç‰©æ•ˆæœå®ç°
- æ¯å¤©å®ç°8-9ç§é—ç‰©
- ä¸ºæ¯ç§é—ç‰©åˆ›å»ºç‹¬ç«‹çš„apply()æ–¹æ³•
- æµ‹è¯•æ¯ç§é—ç‰©çš„å®é™…æ•ˆæœ

**Day 9**: é—ç‰©UI
- é—ç‰©å›¾æ ‡æ˜¾ç¤º (ç®€å•å‡ ä½•å½¢çŠ¶)
- é—ç‰©æè¿°é¢æ¿
- å·²è·å¾—é—ç‰©åˆ—è¡¨

---

## â¬†ï¸ ç³»ç»Ÿ3: å‡çº§é€‰æ‹©ç³»ç»Ÿ

### è®¾è®¡ç†å¿µ
```
Linuså¼æ–¹æ¡ˆ:
1. æ•°æ®ç»“æ„æç®€: å‡çº§=3é€‰1
2. æ— ç‰¹æ®Šæƒ…å†µ: æ¯æ¬¡å‡çº§æµç¨‹ç›¸åŒ
3. æ¸…æ™°å®ç°: æš‚åœâ†’é€‰æ‹©â†’åº”ç”¨â†’ç»§ç»­
```

### å‡çº§é€‰é¡¹è®¾è®¡
```typescript
interface UpgradeOption {
    type: 'stat' | 'relic' | 'heal';
    icon: string;        // ç®€å•å›¾æ ‡
    title: string;       // ä¸€å¥è¯æè¿°
    description: string; // è¯¦ç»†æ•ˆæœ
    apply: () => void;   // åº”ç”¨å‡½æ•°
}

class UpgradeManager {
    generateOptions(): UpgradeOption[] {
        // æ°¸è¿œè¿”å›3ä¸ªé€‰é¡¹
        const options: UpgradeOption[] = [];

        // 33%æ¦‚ç‡æ¯ç§ç±»å‹
        options.push(this.randomStat());    // å±æ€§æå‡
        options.push(this.randomRelic());   // è·å¾—é—ç‰©
        options.push(this.randomHeal());    // å›å¤ç”Ÿå‘½

        return options;
    }

    // ç¤ºä¾‹é€‰é¡¹
    private statOptions = [
        { title: "å¼ºåŒ–æŒ¡æ¿", effect: () => paddle.durability *= 1.2 },
        { title: "çƒé€Ÿé™ä½", effect: () => ball.speed *= 0.9 },
        { title: "ä¼¤å®³æå‡", effect: () => ball.damage *= 1.1 },
        { title: "ç”Ÿå‘½ä¸Šé™+1", effect: () => lives.max += 1 },
        { title: "æš´å‡»ç‡+5%", effect: () => crit.rate += 0.05 }
    ];
}
```

### å®ç°è®¡åˆ’
**Day 10-11**: å‡çº§ç³»ç»Ÿæ ¸å¿ƒ
- UpgradeManagerå•ä¾‹
- é€‰é¡¹ç”Ÿæˆç®—æ³•
- é€‰é¡¹åº”ç”¨é€»è¾‘

**Day 12**: å‡çº§UI
- 3é€‰1ç•Œé¢ (å…¨å±é®ç½©)
- é€‰é¡¹å¡ç‰‡å¸ƒå±€
- é€‰æ‹©åŠ¨ç”»æ•ˆæœ

---

## âš”ï¸ ç³»ç»Ÿ4: æŒ¡æ¿è€ä¹…åº¦æœºåˆ¶

### è®¾è®¡ç†å¿µ
```
æ ¸å¿ƒåˆ¤æ–­: âœ… å€¼å¾—åš - å¢åŠ é£é™©ç®¡ç†æ·±åº¦
å®ç°æ–¹å¼: æŒ¡æ¿æœ‰è€ä¹…åº¦ï¼Œçƒé€Ÿè¶Šå¿«æŸè€—è¶Šå¤§
```

### è€ä¹…åº¦è®¡ç®—
```typescript
class PaddleDurability {
    maxDurability: number = 100;
    current: number = 100;

    // ç®€å•çº¿æ€§å…³ç³»
    takeDamage(ballSpeed: number): void {
        const damage = ballSpeed / 100;  // é€Ÿåº¦300 = 3ç‚¹ä¼¤å®³
        this.current = Math.max(0, this.current - damage);

        if (this.current <= 0) {
            this.breakPaddle();  // æŒ¡æ¿ç ´ç¢ï¼ŒæŸå¤±ç”Ÿå‘½
        }
    }

    repair(amount: number): void {
        this.current = Math.min(this.maxDurability, this.current + amount);
    }
}
```

---

## ğŸ‘¹ ç³»ç»Ÿ5: ç²¾è‹±ä¸Bossè®¾è®¡

### ç²¾è‹±å…³å¡ (éš¾åº¦+5)
```typescript
const ELITE_MECHANICS = {
    MIRROR: "å·¦å³é•œåƒå¤åˆ¶çƒçš„è½¨è¿¹",
    GRAVITY_WELL: "ä¸­å¿ƒå¼•åŠ›å½±å“çƒçš„è·¯å¾„",
    TIME_DISTORTION: "éšæœºåŠ é€Ÿ/å‡é€ŸåŒºåŸŸ",
    SHIELD_GENERATOR: "å®šæœŸä¸ºç –å—ç”ŸæˆæŠ¤ç›¾",
    BOMBARDMENT: "å®šæœŸä»ä¸Šæ–¹æŠ•ä¸‹ç –å—"
};
```

### Bossè®¾è®¡ (éš¾åº¦+10)
```typescript
const BOSS_PHASES = {
    PHASE_1: "å¸¸è§„æ”»å‡»æ¨¡å¼",
    PHASE_2: "50%è¡€é‡åå¢åŠ ç‰¹æ®Šæœºåˆ¶",
    PHASE_3: "25%è¡€é‡åç‹‚æš´æ¨¡å¼"
};
```

---

## ğŸ“± ç³»ç»Ÿ6: å¾®ä¿¡å¹³å°åŸºç¡€é€‚é…

### æœ€å°åŒ–å®ç°
- åŸºç¡€åˆ†äº«åŠŸèƒ½
- ç®€å•æ’è¡Œæ¦œ
- å¹¿å‘Šè§‚çœ‹å¤æ´»
- ä¸åšå¤æ‚ç¤¾äº¤åŠŸèƒ½

---

## ğŸ“… æ—¶é—´çº¿è§„åˆ’

### Week 1: æ ¸å¿ƒç³»ç»Ÿ (7å¤©)
| æ—¥æœŸ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|-----|------|---------|
| Day 1-2 | åœ°å›¾ç³»ç»Ÿæ•°æ®ç»“æ„ | 4h |
| Day 3-4 | åœ°å›¾UIæ¸²æŸ“ | 4h |
| Day 5 | åœ°å›¾äº¤äº’é€»è¾‘ | 2h |
| Day 6-7 | é—ç‰©æ‰©å±•(å‰15ç§) | 4h |

### Week 2: ç³»ç»Ÿå®Œå–„ (7å¤©)
| æ—¥æœŸ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|-----|------|---------|
| Day 8-9 | é—ç‰©æ‰©å±•(å10ç§) | 4h |
| Day 10-11 | å‡çº§é€‰æ‹©ç³»ç»Ÿ | 4h |
| Day 12 | å‡çº§UI | 2h |
| Day 13-14 | æŒ¡æ¿è€ä¹…+ç²¾è‹±è®¾è®¡ | 4h |

### Week 3: æ‰“ç£¨ä¼˜åŒ– (7å¤©)
| æ—¥æœŸ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|-----|------|---------|
| Day 15-16 | Bossæˆ˜è®¾è®¡ | 4h |
| Day 17-18 | å¹³è¡¡æ€§è°ƒæ•´ | 4h |
| Day 19-20 | å¾®ä¿¡å¹³å°é€‚é… | 4h |
| Day 21 | æœ€ç»ˆæµ‹è¯• | 2h |

---

## ğŸ® æ¸¸æˆå¾ªç¯éªŒè¯

### æ ¸å¿ƒå¾ªç¯ (30ç§’)
1. é€‰æ‹©åœ°å›¾èŠ‚ç‚¹ (5ç§’)
2. è¿›å…¥å…³å¡æˆ˜æ–— (20ç§’)
3. è·å¾—å¥–åŠ±/å‡çº§ (5ç§’)

### å±€å†…å¾ªç¯ (5-10åˆ†é’Ÿ)
1. ä»å¶å­èŠ‚ç‚¹å¼€å§‹
2. ç»è¿‡3-5ä¸ªæ™®é€šå…³å¡
3. æŒ‘æˆ˜1ä¸ªç²¾è‹±å…³å¡
4. ç»§ç»­3-5ä¸ªå…³å¡
5. æŒ‘æˆ˜Boss

### å±€å¤–å¾ªç¯ (30åˆ†é’Ÿ)
1. å®Œæˆä¸€æ¬¡å®Œæ•´è¿è¡Œ
2. è§£é”æ–°é—ç‰©
3. å°è¯•æ–°Build
4. è¿½æ±‚æ›´é«˜åˆ†æ•°

---

## ğŸ’¡ Linuså¼ä»£ç åŸåˆ™æ£€æŸ¥

### âœ… ç¬¦åˆåŸåˆ™
1. **æ•°æ®ç»“æ„ç®€å•**: MapNodeã€Relicã€Upgradeéƒ½æ˜¯ç®€å•ç»“æ„
2. **æ— ç‰¹æ®Šæƒ…å†µ**: æ‰€æœ‰ç³»ç»Ÿæµç¨‹ç»Ÿä¸€ï¼Œæ— if/elseåœ°ç‹±
3. **3å±‚ç¼©è¿›å†…**: æ‰€æœ‰å‡½æ•°è®¾è®¡æ§åˆ¶åœ¨3å±‚å†…
4. **å®ç”¨ä¸»ä¹‰**: è§£å†³çœŸå®é—®é¢˜(é€‰æ‹©æƒã€å¤šæ ·æ€§ã€ç­–ç•¥æ·±åº¦)

### âš ï¸ é£é™©æ§åˆ¶
1. **ä¸ç ´åç°æœ‰ç³»ç»Ÿ**: æ‰€æœ‰æ–°ç³»ç»Ÿéƒ½æ˜¯å¢é‡æ·»åŠ 
2. **æ€§èƒ½å¯æ§**: æ¯ä¸ªç³»ç»Ÿéƒ½æœ‰ç®€åŒ–ç‰ˆæœ¬å¤‡é€‰
3. **å¤æ‚åº¦å¯æ§**: åˆ†é˜¶æ®µå®ç°ï¼Œæ¯é˜¶æ®µå¯ç‹¬ç«‹éªŒè¯

---

## ğŸš€ ç¬¬ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³å¼€å§‹ (Day 1)
```typescript
// 1. åˆ›å»ºåœ°å›¾ç³»ç»Ÿæ–‡ä»¶
assets/scripts/gameplay/MapSystem.ts
assets/scripts/gameplay/MapNode.ts
assets/scripts/gameplay/MapGenerator.ts

// 2. å®šä¹‰åŸºç¡€æ•°æ®ç»“æ„
interface MapNode {
    id: number;
    type: NodeType;
    position: Vec2;
    children: number[];
}

// 3. å®ç°æœ€ç®€ç”Ÿæˆå™¨
function generateSimpleTree(): MapNode[] {
    // 15å±‚ï¼Œæ¯å±‚1-3ä¸ªèŠ‚ç‚¹
    // è¿”å›60-80ä¸ªèŠ‚ç‚¹çš„æ•°ç»„
}
```

---

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- [ ] åœ°å›¾ç³»ç»Ÿå¯ç”Ÿæˆ15å±‚æ ‘çŠ¶ç»“æ„
- [ ] 25ç§é—ç‰©å…¨éƒ¨å®ç°å¹¶æµ‹è¯•
- [ ] å‡çº§é€‰æ‹©UIæµç•…æ— å¡é¡¿
- [ ] ç²¾è‹±å…³å¡æœ‰ç‹¬ç‰¹æœºåˆ¶
- [ ] Bossæœ‰3é˜¶æ®µå˜åŒ–

### ä½“éªŒæŒ‡æ ‡
- [ ] æ¯æ¬¡è¿è¡Œéƒ½æœ‰ä¸åŒè·¯å¾„é€‰æ‹©
- [ ] é—ç‰©ç»„åˆäº§ç”Ÿæ˜æ˜¾å·®å¼‚
- [ ] å‡çº§é€‰æ‹©æœ‰ç­–ç•¥æ·±åº¦
- [ ] ç²¾è‹±å…³å¡æœ‰æŒ‘æˆ˜æ€§ä½†å…¬å¹³
- [ ] Bossæˆ˜æœ‰å²è¯—æ„Ÿ

### å•†ä¸šæŒ‡æ ‡
- [ ] å•æ¬¡æ¸¸æˆæ—¶é•¿10-30åˆ†é’Ÿ
- [ ] é‡ç©ä»·å€¼é«˜(è‡³å°‘10æ¬¡ä¸åŒä½“éªŒ)
- [ ] é€‚åˆç¢ç‰‡æ—¶é—´æ¸¸ç©
- [ ] æœ‰"å†æ¥ä¸€å±€"çš„å†²åŠ¨

---

## ğŸ¯ æœ€ç»ˆæ„¿æ™¯

ä¸€ä¸ª**ç®€å•ä½†æ·±é‚ƒ**çš„Roguelikeæ‰“ç –å—æ¸¸æˆï¼š
- **ç®€å•**: ç‚¹å‡»é€‰æ‹©è·¯å¾„ï¼Œç§»åŠ¨æŒ¡æ¿æ¥çƒ
- **æ·±é‚ƒ**: 25x25äº¤äº’ç³»ç»Ÿ + 25ç§é—ç‰© + è·¯å¾„é€‰æ‹©
- **çˆ½å¿«**: æ¯æ¬¡æ’å‡»éƒ½æœ‰åé¦ˆï¼Œè¿å‡»æœ‰æˆå°±æ„Ÿ
- **ç­–ç•¥**: é—ç‰©Build + è·¯å¾„è§„åˆ’ + é£é™©ç®¡ç†

**åº§å³é“­åº”ç”¨**:
> "Talk is cheap. Show me the code."

ä¸ç©ºè°ˆæ¸¸æˆè®¾è®¡ç†è®ºï¼Œç›´æ¥ç”¨ä»£ç å®ç°æ ¸å¿ƒå¾ªç¯ã€‚æ¯ä¸ªç³»ç»Ÿéƒ½æ˜¯å¯è¿è¡Œã€å¯æµ‹è¯•ã€å¯è¿­ä»£çš„ä»£ç ã€‚

---

**ä¸‹ä¸€æ­¥**: ç«‹å³åˆ›å»ºMapSystem.tsï¼Œå¼€å§‹å®ç°åœ°å›¾ç”Ÿæˆå™¨ã€‚