# Cat Journey - Roguelike系统设计文档

**版本**: 1.0
**更新日期**: 2025-10-14
**核心定位**: 爽快解压的Roguelike打砖块

---

## 🎮 游戏核心循环

### 30秒循环 - 即时满足
```
打砖块 → 爽快音效 → 数字跳动 → 经验球掉落 → 收集 → 升级
```
**设计要点**:
- 每次撞击都有反馈
- 连击有递增音效
- 经验球有磁吸感(已简化实现)

### 5分钟循环 - 单局体验
```
选择路径 → 进入关卡 → 清除砖块 → 获得奖励 → 选择升级 → 下一关
```
**设计要点**:
- 每关1-2分钟快速通关
- 立即获得成长感
- 选择简单但有意义

### 20分钟循环 - 完整run
```
起始节点 → 经过5个普通关 → 精英关 → 5个普通关 → Boss → 结算
```
**设计要点**:
- 一局20-30分钟，适合通勤
- 死亡不沮丧，立即重开
- 每次run都有新发现

---

## 🎯 让玩家爽的核心机制

### 1. 撞击反馈 - 最核心的爽点
```typescript
// 每个球类型都有独特反馈
const BALL_FEEDBACK = {
    NORMAL: { sound: "pop", particle: "spark", shake: 1 },
    HEAVY: { sound: "boom", particle: "explosion", shake: 3 },
    ELECTRIC: { sound: "zap", particle: "lightning", shake: 2 },
    // ... 25种不同反馈
};

// 连击递增反馈
combo = 1: 普通音效
combo = 5: 音调提高 + 数字变大
combo = 10: 屏幕震动 + 特效加强
combo = 20: 全屏特效 + 史诗音效
```

### 2. 数字膨胀 - 成长的直观体现
```typescript
// 指数成长的伤害数字
Level 1: 伤害 10-20
Level 5: 伤害 50-100
Level 10: 伤害 200-500
Level 20: 伤害 1000-2000
Boss战: 伤害 5000+ (暴击10000+!)
```

### 3. 遗物组合 - Build的快感
```typescript
// 遗物协同示例
重球 + 穿透 = 推土机Build
分裂 + 加速 = 弹幕Build
磁吸 + 范围伤害 = 黑洞Build

// 让玩家发现组合
"哇，这两个遗物配合起来好强！"
```

### 4. 路径选择 - 风险与收益
```typescript
安全路线: 普通 → 普通 → 普通 → 精英
冒险路线: 普通 → 精英 → 精英 → Boss
贪婪路线: 商店 → 商店 → 事件 → 精英

// 每条路都有独特奖励
```

---

## 🎁 遗物系统 - 深度的来源

### 遗物设计原则
1. **简单易懂**: 一句话说清效果
2. **效果明显**: 立即能感受到变化
3. **视觉区分**: 获得后球/挡板外观改变

### 25种遗物详细设计

#### 攻击型 (红色系)
| 名称 | 效果 | 视觉 | 爽点 |
|-----|------|------|-----|
| 重力球 | 伤害+50%，速度-20% | 球变大，拖尾加粗 | 砸穿一切 |
| 分裂弹 | 击中分裂2个小球 | 球闪烁，击中爆开 | 满屏弹幕 |
| 穿透矛 | 穿透3层砖块 | 球变尖锐，带残影 | 一穿一条线 |
| 加速引擎 | 每弹跳速度+2% | 球越来越亮 | 快到看不清 |
| 爆破专家 | 破坏时范围伤害 | 爆炸特效加大 | 连锁爆炸 |

#### 防御型 (蓝色系)
| 名称 | 效果 | 视觉 | 爽点 |
|-----|------|------|-----|
| 钢铁挡板 | 耐久损失-20% | 金属光泽 | 坚不可摧 |
| 纳米修复 | 每秒回复1耐久 | 绿色粒子环绕 | 永不损坏 |
| 伸缩挡板 | 宽度+30% | 挡板变宽 | 接球容易 |
| 磁力挡板 | 可吸住球 | 电磁场特效 | 精确控制 |
| 镜像反射 | 反弹20%伤害给砖块 | 镜面效果 | 以彼之道 |

#### 机制型 (绿色系)
| 名称 | 效果 | 视觉 | 爽点 |
|-----|------|------|-----|
| 双生球 | 开局2个球 | 两球同步 | 效率翻倍 |
| 时间膨胀 | 游戏速度-20% | 轻微模糊 | 子弹时间 |
| 万有引力 | 球吸引掉落物 | 引力场 | 自动收集 |
| 连击大师 | 连击加成x2 | 数字特效加强 | 分数爆炸 |
| 幸运兔脚 | 掉落率+50% | 金色光芒 | 满地宝物 |

#### 特殊型 (紫色系)
| 名称 | 效果 | 视觉 | 爽点 |
|-----|------|------|-----|
| 混沌之球 | 随机切换球类型 | 不断变色 | 惊喜不断 |
| 虚空吞噬 | 10%即死砖块 | 黑洞特效 | 秒杀快感 |
| 量子纠缠 | 球可同时在2处 | 分身残影 | 双倍效率 |
| 元素共鸣 | 相同类型砖块连锁 | 共振波纹 | 连锁反应 |
| 时空裂隙 | 5%触发时停3秒 | 时停特效 | 掌控一切 |

#### 传说型 (金色系)
| 名称 | 效果 | 视觉 | 爽点 |
|-----|------|------|-----|
| 无限手套 | 集齐6种元素球效 | 六色宝石 | 我即是天 |
| 永动机 | 球速永不降低 | 能量环绕 | 越战越勇 |
| 黑洞引擎 | 吸引并摧毁周围 | 引力扭曲 | 清屏神器 |
| 创世之光 | 所有砖块-50%血 | 圣光普照 | 开局优势 |
| 毁灭之种 | 球造成真实伤害 | 暗红光芒 | 无视防御 |

---

## ⬆️ 升级系统 - 成长的仪式感

### 升级选择设计
```typescript
// 每次升级3选1，类型随机但平衡
const UPGRADE_POOL = {
    属性提升: 40%,  // 立即生效
    遗物获取: 30%,  // 永久强化
    回复治疗: 20%,  // 续航能力
    特殊事件: 10%   // 惊喜要素
};
```

### 属性提升选项
```typescript
基础强化:
- 球伤害 +10%
- 球速度 -10% (降速是好事)
- 挡板宽度 +10%
- 挡板耐久 +20
- 生命值 +1

高级强化:
- 暴击率 +5%
- 暴击伤害 +50%
- 连击保持时间 +2秒
- 经验获取 +20%
- 金币获取 +30%

极限强化:
- 额外球 +1
- 穿透层数 +1
- 复活次数 +1
```

---

## 🗺️ 地图系统 - 每次都不同

### 地图生成规则
```
层级设计 (15层):
L1-3: 新手区，纯普通关卡
L4-5: 出现第一个精英
L6-9: 混合区，多路径选择
L10: 中间精英层(必经)
L11-14: 高难区，精英频繁
L15: 最终Boss(必经)

节点密度:
起始: 3个选择
中间: 每层3-5个节点
汇聚: 最后收束到1个Boss
总计: 约50-60个节点
```

### 特殊节点设计

#### 商店节点 (蓝色)
```typescript
// 用金币购买
商品列表:
- 随机遗物 (100金)
- 恢复耐久 (50金)
- 升级机会 (150金)
- 神秘箱子 (200金)
```

#### 事件节点 (紫色)
```typescript
随机事件:
- 赌博: 50%双倍奖励，50%失去一半血
- 精英挑战: 打败精英获得2个遗物
- 宝箱怪: 假宝箱，其实是小Boss
- 许愿池: 花费血量换取遗物
```

#### 休息节点 (绿色)
```typescript
选择一项:
- 回复50%耐久
- 升级一个遗物
- 移除一个负面效果
```

---

## 💰 经济系统 - 资源管理

### 资源类型
```typescript
const RESOURCES = {
    经验值: "用于升级，每关自动获得",
    金币: "用于商店，击杀和连击获得",
    钥匙: "开启宝箱，精英关掉落",
    灵魂: "永久货币，解锁新遗物"
};
```

### 获取途径
```
经验: 砖块1-5点，关卡完成50点
金币: 普通砖1金，特殊砖2-5金
钥匙: 精英必掉1把，Boss掉3把
灵魂: 通关获得10-50，成就获得
```

---

## 🏆 成就系统 - 长期目标

### 成就类别
```typescript
// 让玩家有长期追求
const ACHIEVEMENTS = {
    // 积累类
    "砖块破坏者": "累计破坏10000块砖",
    "百万富翁": "累计获得100万金币",

    // 技巧类
    "完美主义": "一关不漏任何经验球",
    "极限操作": "血量1%通关",

    // 收集类
    "遗物收藏家": "解锁所有遗物",
    "Build大师": "完成10种不同Build",

    // 挑战类
    "速通达人": "15分钟内通关",
    "无伤传说": "无伤击败Boss"
};
```

---

## 🎨 视觉风格 - 简约而不简单

### 颜色使用
```
主色调: 深空蓝 (#001830)
普通: 白色 (#FFFFFF)
精英: 金黄 (#FFD700)
Boss: 深红 (#DC143C)
经验: 翠绿 (#00FF00)
金币: 金色 (#FFD700)
```

### 特效层级
```
普通撞击: 小火花
连击x5: 光圈扩散
连击x10: 屏幕微震
连击x20: 全屏闪光
Boss击杀: 慢动作 + 爆炸
```

---

## 📱 微信适配 - 社交与传播

### 核心功能
```typescript
// 只做核心，不做花哨
const WECHAT_FEATURES = {
    分享: "通关分享，显示Build和分数",
    排行榜: "好友排行，刺激竞争",
    复活: "看广告复活一次",
    每日: "每日挑战，特殊奖励"
};
```

### 付费点 (可选)
```
- 去广告 (12元永久)
- 新手礼包 (6元，3个遗物)
- 月卡 (30元，每日奖励)
- 皮肤包 (18元，球和挡板皮肤)
```

---

## ⚡ 性能目标

### 技术指标
```
FPS: 稳定60帧
内存: <150MB
包体: <20MB
加载: <3秒
```

### 体验指标
```
上手: 30秒学会
沉浸: 10分钟入迷
重玩: 平均5次/用户
留存: 次日>40%
```

---

## 🚀 开发优先级

### Phase 1 (已完成)
✅ 核心玩法 (25x25系统)
✅ 经验系统
✅ 布局系统
✅ 难度系统

### Phase 2 (当前)
⏳ 地图系统
⏳ 遗物扩展
⏳ 升级选择
⏳ 精英/Boss

### Phase 3 (后续)
- 商店系统
- 事件系统
- 成就系统
- 微信集成

### Phase 4 (打磨)
- 音效完善
- 特效优化
- 平衡调整
- 新手引导

---

## 💡 核心设计哲学

### 1. 即时反馈
> "每一次操作都要有反馈，越快越好"

### 2. 清晰成长
> "让玩家明确感受到变强"

### 3. 有意义的选择
> "选择不多，但每个都重要"

### 4. 公平的随机
> "随机but可控，运气but技术"

### 5. 尊重时间
> "可以随时暂停，随时继续"

---

## 🎯 成功标准

### 玩家会说:
- "再来一局！"
- "这个组合好强！"
- "差一点就过了！"
- "我发现了新套路！"

### 玩家不会说:
- "太难了，不玩了"
- "太无聊了"
- "不知道在干什么"
- "运气游戏"

---

## 📊 竞品分析

### 学习对象
- **Slay the Spire**: 地图选择，遗物系统
- **Hades**: 爽快感，Build多样性
- **Archero**: 移动端操作，升级选择
- **Vampire Survivors**: 数值膨胀，满屏特效

### 差异化
- 更简单: 只需要左右移动
- 更快: 单局20分钟
- 更爽: 撞击反馈极致
- 更深: 25x25交互系统

---

## ✅ 验证清单

### 每个系统上线前:
- [ ] 功能完整可玩
- [ ] 无卡顿和bug
- [ ] 有爽快感
- [ ] 数值平衡
- [ ] 新手能理解

### 每日开发后:
- [ ] 代码提交
- [ ] 进度更新
- [ ] 问题记录
- [ ] 明日计划

---

**核心目标**: 做一个让人**放松解压**、**随时能玩**、**总想再来一局**的爽快游戏。

**开发信条**: "Make it work, make it fun, make it polished."