{"version":3,"sources":["file:///D:/project/claudecode/wx/Cat_Journey/assets/scripts/DeathZone.ts"],"names":["_decorator","Component","Collider2D","Contact2DType","GameManager","ccclass","property","DeathZone","onLoad","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","onDestroy","off","selfCollider","otherCollider","node","name","gameManager","getInstance","onBallLost"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,a,OAAAA,a;;AACzCC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2BAGjBO,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BN,SAD/B,CACyC;AAC3BO,QAAAA,MAAM,GAAS;AACrB,cAAMC,QAAQ,GAAG,KAAKC,YAAL,CAAkBR,UAAlB,CAAjB;;AACA,cAAIO,QAAJ,EAAc;AACVA,YAAAA,QAAQ,CAACE,EAAT,CAAYR,aAAa,CAACS,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACH;AACJ;;AAESC,QAAAA,SAAS,GAAS;AACxB,cAAML,QAAQ,GAAG,KAAKC,YAAL,CAAkBR,UAAlB,CAAjB;;AACA,cAAIO,QAAJ,EAAc;AACVA,YAAAA,QAAQ,CAACM,GAAT,CAAaZ,aAAa,CAACS,aAA3B,EAA0C,KAAKC,cAA/C,EAA+D,IAA/D;AACH;AACJ;;AAEOA,QAAAA,cAAc,CAACG,YAAD,EAA2BC,aAA3B,EAA4D;AAC9E,cAAIA,aAAa,CAACC,IAAd,CAAmBC,IAAnB,KAA4B,MAA5B,IAAsCF,aAAa,CAACP,YAAd,CAA2B,MAA3B,CAA1C,EAA8E;AAC1E,gBAAMU,WAAW,GAAG;AAAA;AAAA,4CAAYC,WAAZ,EAApB;;AACA,gBAAID,WAAJ,EAAiB;AACbA,cAAAA,WAAW,CAACE,UAAZ;AACH;AACJ;AACJ;;AAtBoC,O","sourcesContent":["import { _decorator, Component, Node, Collider2D, Contact2DType } from 'cc';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('DeathZone')\r\nexport class DeathZone extends Component {\r\n    protected onLoad(): void {\r\n        const collider = this.getComponent(Collider2D);\r\n        if (collider) {\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n        }\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        const collider = this.getComponent(Collider2D);\r\n        if (collider) {\r\n            collider.off(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n        }\r\n    }\r\n\r\n    private onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D): void {\r\n        if (otherCollider.node.name === 'Ball' || otherCollider.getComponent('Ball')) {\r\n            const gameManager = GameManager.getInstance();\r\n            if (gameManager) {\r\n                gameManager.onBallLost();\r\n            }\r\n        }\r\n    }\r\n}"]}