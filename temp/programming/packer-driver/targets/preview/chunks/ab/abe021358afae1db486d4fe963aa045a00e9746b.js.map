{"version":3,"sources":["file:///D:/project/claudecode/wx/Cat_Journey/assets/scripts/ui/MainMenuButton.ts"],"names":["_decorator","Component","Button","Color","tween","Vec3","Node","Label","AudioManager","ccclass","property","MainMenuButton","button","isHovered","originalScale","onLoad","node","getComponent","setupButtonStyle","bindEvents","scale","clone","console","warn","transition","Transition","COLOR","normalColor","hoverColor","pressedColor","disabledColor","duration","on","EventType","CLICK","onButtonClick","enableHoverEffect","MOUSE_ENTER","onMouseEnter","MOUSE_LEAVE","onMouseLeave","TOUCH_START","onTouchStart","TOUCH_END","onTouchEnd","TOUCH_CANCEL","onTouchCancel","enableSoundEffects","audioManager","instance","playUISFX","enableClickAnimation","playClickAnimation","handleButtonFunction","playHoverAnimation","playPressAnimation","to","start","isEntering","targetScale","isPressed","buttonType","onStartGame","onContinueGame","onOpenSettings","onOpenLeaderboard","onOpenShop","onOpenAchievements","onOpenMail","onOpenHelp","log","setButtonText","text","label","getComponentInChildren","string","setButtonEnabled","enabled","interactable","setButtonType","type","playCustomClickEffect","intensity","onDestroy","off","WHITE","GRAY"],"mappings":"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","sourcesContent":["import { _decorator, Component, Button, Color, tween, Vec3, UITransform, Node, Label } from 'cc';\r\nimport { AudioManager } from '../managers/AudioManager';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MainMenuButton')\r\nexport class MainMenuButton extends Component {\r\n    @property\r\n    public buttonType: string = \"normal\";\r\n\r\n    @property\r\n    public enableSoundEffects: boolean = true;\r\n\r\n    @property\r\n    public enableClickAnimation: boolean = true;\r\n\r\n    @property\r\n    public enableHoverEffect: boolean = true;\r\n\r\n    // 按钮颜色配置\r\n    @property\r\n    public normalColor: Color = Color.WHITE;\r\n\r\n    @property\r\n    public hoverColor: Color = new Color(100, 200, 255, 255);\r\n\r\n    @property\r\n    public pressedColor: Color = new Color(0, 150, 255, 255);\r\n\r\n    @property\r\n    public disabledColor: Color = Color.GRAY;\r\n\r\n    private button: Button | null = null;\r\n    private isHovered: boolean = false;\r\n    private originalScale: Vec3 = new Vec3(1, 1, 1);\r\n\r\n    protected onLoad(): void {\r\n        this.button = this.node.getComponent(Button);\r\n        if (this.button) {\r\n            this.setupButtonStyle();\r\n            this.bindEvents();\r\n            this.originalScale = this.node.scale.clone();\r\n        } else {\r\n            console.warn('MainMenuButton: No Button component found');\r\n        }\r\n    }\r\n\r\n    private setupButtonStyle(): void {\r\n        if (!this.button) return;\r\n\r\n        this.button.transition = Button.Transition.COLOR;\r\n        this.button.normalColor = this.normalColor;\r\n        this.button.hoverColor = this.hoverColor;\r\n        this.button.pressedColor = this.pressedColor;\r\n        this.button.disabledColor = this.disabledColor;\r\n\r\n        // 设置按钮动画持续时间\r\n        this.button.duration = 0.1;\r\n    }\r\n\r\n    private bindEvents(): void {\r\n        if (!this.button) return;\r\n\r\n        // 点击事件\r\n        this.node.on(Button.EventType.CLICK, this.onButtonClick, this);\r\n        \r\n        // 悬停事件（如果支持）\r\n        if (this.enableHoverEffect) {\r\n            this.node.on(Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);\r\n            this.node.on(Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);\r\n        }\r\n\r\n        // 触摸事件（移动端）\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchCancel, this);\r\n    }\r\n\r\n    private onButtonClick(): void {\r\n        // 播放点击音效\r\n        if (this.enableSoundEffects) {\r\n            const audioManager = AudioManager.instance;\r\n            if (audioManager) {\r\n                audioManager.playUISFX('click');\r\n            }\r\n        }\r\n\r\n        // 点击动画\r\n        if (this.enableClickAnimation) {\r\n            this.playClickAnimation();\r\n        }\r\n\r\n        // 处理按钮功能\r\n        this.handleButtonFunction();\r\n    }\r\n\r\n    private onMouseEnter(): void {\r\n        if (!this.isHovered && this.enableHoverEffect) {\r\n            this.isHovered = true;\r\n            \r\n            // 播放悬停音效\r\n            if (this.enableSoundEffects) {\r\n                const audioManager = AudioManager.instance;\r\n                if (audioManager) {\r\n                    audioManager.playUISFX('hover');\r\n                }\r\n            }\r\n\r\n            // 悬停动画\r\n            this.playHoverAnimation(true);\r\n        }\r\n    }\r\n\r\n    private onMouseLeave(): void {\r\n        if (this.isHovered) {\r\n            this.isHovered = false;\r\n            this.playHoverAnimation(false);\r\n        }\r\n    }\r\n\r\n    private onTouchStart(): void {\r\n        // 移动端按下效果\r\n        this.playPressAnimation(true);\r\n    }\r\n\r\n    private onTouchEnd(): void {\r\n        // 移动端释放效果\r\n        this.playPressAnimation(false);\r\n    }\r\n\r\n    private onTouchCancel(): void {\r\n        // 取消触摸\r\n        this.playPressAnimation(false);\r\n    }\r\n\r\n    private playClickAnimation(): void {\r\n        // 快速缩放动画\r\n        tween(this.node)\r\n            .to(0.08, { scale: new Vec3(0.95, 0.95, 1) })\r\n            .to(0.12, { scale: this.originalScale })\r\n            .start();\r\n    }\r\n\r\n    private playHoverAnimation(isEntering: boolean): void {\r\n        const targetScale = isEntering ? \r\n            new Vec3(1.05, 1.05, 1) : \r\n            this.originalScale;\r\n\r\n        tween(this.node)\r\n            .to(0.2, { scale: targetScale })\r\n            .start();\r\n    }\r\n\r\n    private playPressAnimation(isPressed: boolean): void {\r\n        const targetScale = isPressed ? \r\n            new Vec3(0.98, 0.98, 1) : \r\n            this.originalScale;\r\n\r\n        tween(this.node)\r\n            .to(0.1, { scale: targetScale })\r\n            .start();\r\n    }\r\n\r\n    private handleButtonFunction(): void {\r\n        switch (this.buttonType) {\r\n            case \"start\":\r\n                this.onStartGame();\r\n                break;\r\n            case \"continue\":\r\n                this.onContinueGame();\r\n                break;\r\n            case \"settings\":\r\n                this.onOpenSettings();\r\n                break;\r\n            case \"leaderboard\":\r\n                this.onOpenLeaderboard();\r\n                break;\r\n            case \"shop\":\r\n                this.onOpenShop();\r\n                break;\r\n            case \"achievements\":\r\n                this.onOpenAchievements();\r\n                break;\r\n            case \"mail\":\r\n                this.onOpenMail();\r\n                break;\r\n            case \"help\":\r\n                this.onOpenHelp();\r\n                break;\r\n            default:\r\n                console.log(`Button clicked: ${this.buttonType}`);\r\n        }\r\n    }\r\n\r\n    private onStartGame(): void {\r\n        console.log(\"开始游戏\");\r\n        // TODO: 实现场景切换逻辑\r\n        // director.loadScene('GameScene');\r\n        \r\n        // 播放成功音效\r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('success');\r\n        }\r\n    }\r\n\r\n    private onContinueGame(): void {\r\n        console.log(\"继续游戏\");\r\n        // TODO: 加载存档并继续游戏\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('success');\r\n        }\r\n    }\r\n\r\n    private onOpenSettings(): void {\r\n        console.log(\"打开设置\");\r\n        // TODO: 打开设置面板\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    private onOpenLeaderboard(): void {\r\n        console.log(\"打开排行榜\");\r\n        // TODO: 打开排行榜界面\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    private onOpenShop(): void {\r\n        console.log(\"打开商店\");\r\n        // TODO: 打开商店界面\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    private onOpenAchievements(): void {\r\n        console.log(\"打开成就\");\r\n        // TODO: 打开成就界面\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    private onOpenMail(): void {\r\n        console.log(\"打开邮件\");\r\n        // TODO: 打开邮件界面\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    private onOpenHelp(): void {\r\n        console.log(\"打开帮助\");\r\n        // TODO: 打开帮助界面\r\n        \r\n        const audioManager = AudioManager.instance;\r\n        if (audioManager) {\r\n            audioManager.playUISFX('open');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置按钮文本\r\n     * @param text 按钮文本\r\n     */\r\n    public setButtonText(text: string): void {\r\n        const label = this.node.getComponentInChildren(Label);\r\n        if (label) {\r\n            label.string = text;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置按钮启用状态\r\n     * @param enabled 是否启用\r\n     */\r\n    public setButtonEnabled(enabled: boolean): void {\r\n        if (this.button) {\r\n            this.button.interactable = enabled;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置按钮类型\r\n     * @param type 按钮类型\r\n     */\r\n    public setButtonType(type: string): void {\r\n        this.buttonType = type;\r\n    }\r\n\r\n    /**\r\n     * 播放自定义点击动画\r\n     * @param intensity 动画强度\r\n     */\r\n    public playCustomClickEffect(intensity: number = 1.0): void {\r\n        const scale = 1.0 - (0.05 * intensity);\r\n        tween(this.node)\r\n            .to(0.08 * intensity, { scale: new Vec3(scale, scale, 1) })\r\n            .to(0.12 * intensity, { scale: this.originalScale })\r\n            .start();\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        // 清理事件监听\r\n        this.node.off(Button.EventType.CLICK, this.onButtonClick, this);\r\n        this.node.off(Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);\r\n        this.node.off(Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);\r\n        this.node.off(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.off(Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        this.node.off(Node.EventType.TOUCH_CANCEL, this.onTouchCancel, this);\r\n    }\r\n}"]}