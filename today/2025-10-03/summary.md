# 2025-10-03 ä»Šæ—¥å·¥ä½œæ€»ç»“

## âœ… å·²å®Œæˆä¿®å¤

### 1. BrickTypeå¯¼å…¥è·¯å¾„ä¿®å¤
- ä¿®æ­£3ä¸ªæ–‡ä»¶çš„importè·¯å¾„
- ä»`"../core/Brick"` â†’ `"./EnhancedBrick"`

### 2. maxHealthåªè¯»å±æ€§ä¿®å¤
- è°ƒæ•´åˆå§‹åŒ–é¡ºåº: å…ˆè°ƒç”¨`initializeBrickType()`ï¼Œå†è®¾ç½®health
- æ™ºèƒ½å¤„ç†å›ºå®šç”Ÿå‘½å€¼ç±»å‹

### 3. ç”µå‡»é“¾/çˆ†ç‚¸é“¾æ— é™é€’å½’ä¿®å¤
- æ·»åŠ `_electricChainProcessed`å’Œ`_explosionProcessed`æ ‡è®°
- é˜²æ­¢ç –å—è¿é”æ•ˆæœæ­»å¾ªç¯

### 4. **ç –å—ç”Ÿæˆè¶Šç•Œä¿®å¤** (æ–°å¢)
**é—®é¢˜**: ç –å—ç½‘æ ¼è¶…å‡ºå·¦å³Wallè¾¹ç•Œ
**ä¿®å¤**: GameManager.ts:434-461
```typescript
const wallInnerBoundary = 310; // å®‰å…¨è¾¹è·15
const availableWidth = 620;

// åŠ¨æ€è°ƒæ•´åˆ—æ•°é¿å…è¶Šç•Œ
while (finalTotalWidth > availableWidth && finalCols > 1) {
    finalCols--;
    finalTotalWidth = finalCols * actualBrickWidth + (finalCols - 1) * spacing;
}

// è¿‡æ»¤è¶Šç•Œç –å—
const filteredBricks = finalCols < config.gridCols
    ? brickDataArray.filter(brick => brick.col < finalCols)
    : brickDataArray;
```

---

## ğŸ¯ ç»éªŒå€¼ä¸é—ç‰©ç³»ç»Ÿè§„åˆ’

### ç³»ç»Ÿç›®æ ‡
å®ç°Roguelikeæ ¸å¿ƒå¾ªç¯: ç»éªŒå€¼æ”¶é›† â†’ å‡çº§é€‰æ‹© â†’ é—ç‰©è·å–

### 3å‘¨å®æ–½è®¡åˆ’

**ç¬¬1å‘¨ (10-04~10-10)**: ç»éªŒå€¼åŸºç¡€
- Day 1: ç»éªŒçƒç”Ÿæˆä¸æ‰è½
- Day 2: ExperienceManagerå•ä¾‹
- Day 3: å‡çº§é€‰æ‹©UI
- Day 4-7: å‡çº§æ•ˆæœå®ç°

**ç¬¬2å‘¨ (10-11~10-17)**: é—ç‰©ç³»ç»Ÿ
- Day 8-9: RelicManageræ‰©å±•
- Day 10-12: æ ¸å¿ƒé—ç‰©å®ç°
- Day 13-14: é—ç‰©UI

**ç¬¬3å‘¨ (10-18~10-24)**: æ•´åˆä¼˜åŒ–
- Day 15-16: å…³å¡å¥–åŠ±ç³»ç»Ÿ
- Day 17-18: é—ç‰©ååŒæ•ˆåº”
- Day 19-21: æµ‹è¯•ä¸ä¼˜åŒ–

### æ ¸å¿ƒè®¾è®¡

**ç»éªŒå€¼å‚æ•°**:
- æ‰è½æ¦‚ç‡: 8%
- ç»éªŒå€¼/çƒ: 10
- å‡çº§æ‰€éœ€: 100 (æ¯çº§+15%)
- å…³å¡å¥–åŠ±: +50ç»éªŒ + å¿…å®š1æ¬¡å‡çº§

**å‡çº§ç±»å‹** (3é€‰1):
1. åŸºç¡€å±æ€§ (60%): æŒ¡æ¿å»¶é•¿ã€çƒé€Ÿå‡æ…¢ã€ç”Ÿå‘½+1ã€ä¼¤å®³+25%
2. æœºåˆ¶å¢å¼º (30%): å¤šçƒå‘å°„ã€æŠ¤ç›¾ã€ç»éªŒç£åŠ›ã€ç©¿é€
3. é—ç‰© (10%): åˆ†è£‚å…‰ç¯ã€è¿é”çˆ†ç‚¸ã€å¸è¡€å…‰ç¯ç­‰

**é—ç‰©ç¤ºä¾‹**:
- **åˆ†è£‚å…‰ç¯**: ä¸»çƒç¢°æ’ç”Ÿæˆ3ä¸ªå°çƒ (ä¼¤å®³50%)
- **è¿é”çˆ†ç‚¸**: 30%æ¦‚ç‡è§¦å‘èŒƒå›´çˆ†ç‚¸
- **å¸è¡€å…‰ç¯**: æ¯ç ´å10ç –å—å›1è¡€

---

## ğŸ¯ ç»éªŒå€¼ä¸é—ç‰©ç³»ç»Ÿè§„åˆ’ âœ…

### å·²å®Œæˆ3ä¸ªè¯¦ç»†è§„åˆ’æ–‡æ¡£

#### 1. level_system_plan.md (ç­‰çº§ç³»ç»Ÿ - 3å¤©)
**æ ¸å¿ƒè®¾è®¡**:
- **Day 1**: ExperienceManagerå•ä¾‹ + å‡çº§é€»è¾‘
- **Day 2**: PlayerStatsManagerç»Ÿä¸€å±æ€§ç®¡ç†
- **Day 3**: æµ‹è¯•ä¸ä¼˜åŒ–

**å…³é”®å‚æ•°**:
```typescript
baseExperience: 100
experienceCurveMultiplier: 1.15
å‡çº§å…¬å¼: 100 * (1.15)^(level-1)
maxLevel: 50
```

**å±æ€§æå‡**:
- moveSpeed: 500 * (1.05)^level (ä¸Šé™800)
- paddleWidth: 120 * (1.1)^level (ä¸Šé™240)
- durability: 100 * (1.08)^level (ä¸Šé™200)
- repairRate: 2 * (1.1)^level (ä¸Šé™5)

---

#### 2. experience_orb_plan.md (ç»éªŒçƒç³»ç»Ÿ - 2å¤©)
**æ ¸å¿ƒè®¾è®¡**:
- **Day 4**: ExperienceOrb.prefab + æ‰è½é€»è¾‘
- **Day 5**: ç£åŠ›å¸å¼• + è¿å‡»ç³»ç»Ÿ + ComboManager

**ç»éªŒçƒç±»å‹**:
| ç±»å‹ | ç»éªŒå€¼ | æ‰è½æ¦‚ç‡ | è§†è§‰ | ç‰¹æ•ˆ |
|------|--------|---------|------|------|
| å°ç»éªŒçƒ | 10 | 70% | ç»¿è‰²16Ã—16 | æ™®é€šä¸‹è½ |
| ä¸­ç»éªŒçƒ | 25 | 20% | è“è‰²24Ã—24 | ç¼“æ…¢ä¸‹è½ |
| å¤§ç»éªŒçƒ | 50 | 8% | é‡‘è‰²32Ã—32 | å‘å…‰æ•ˆæœ |
| ç¨€æœ‰ç»éªŒçƒ | 100 | 2% | å½©è™¹40Ã—40 | é—ªçƒ+å¸å¼• |

**æ‰è½æ¦‚ç‡è®¾è®¡**:
- åŸºç¡€æ¦‚ç‡: 8%
- éš¾åº¦åŠ æˆ: +0.5% per level (æœ€å¤š+15%)
- è¿å‡»åŠ æˆ: 5è¿å‡»+2%, 10è¿å‡»+5%, 20è¿å‡»+10%
- ç‰¹æ®Šç –å—: EXPERIENCE(100%), REINFORCED(15%), BOSS(50%)

**ç£åŠ›ç³»ç»Ÿ**:
- ç£åŠ›èŒƒå›´: 150px (é—ç‰©å¯Ã—2)
- è‡ªåŠ¨æ”¶é›†: 50px
- ç”Ÿå‘½å‘¨æœŸ: 10ç§’åè‡ªåŠ¨é”€æ¯
- è­¦å‘Šé—ªçƒ: æœ€å2ç§’

---

#### 3. relic_system_plan.md (é—ç‰©ç³»ç»Ÿ - 1å‘¨)
**æ ¸å¿ƒè®¾è®¡**:
- **Day 6**: é—ç‰©æ•°æ®æ‰©å±• (25ç§é—ç‰© + RelicConfig)
- **Day 7**: å‡çº§é€‰æ‹©ç•Œé¢ (LevelUpChoiceUI 3é€‰1)
- **Day 8-9**: é—ç‰©æ•ˆæœå®ç° (4å¤§ç±»é—ç‰©)
- **Day 10**: é—ç‰©ååŒç³»ç»Ÿ (RelicSynergyManager)
- **Day 11-12**: é—ç‰©UIä¸æµ‹è¯•

**é—ç‰©åˆ†ç±»** (25ç§):
```
æ”»å‡»å‹ (5ç§):
- åˆ†è£‚å…‰ç¯: 30%æ¦‚ç‡ç”Ÿæˆ2ä¸ªå°çƒ(ä¼¤å®³50%)
- è¿é”çˆ†ç‚¸: 30%æ¦‚ç‡èŒƒå›´çˆ†ç‚¸(åŠå¾„100px)
- ç©¿é€å¤§å¸ˆ: ç©¿é€+50%
- ä¼¤å®³å¢å¹…: ä¼¤å®³+50%
- é€Ÿåº¦ç‹‚æš´: çƒé€Ÿ+25% + ä¼¤å®³+25%

é˜²å¾¡å‹ (5ç§):
- å¸è¡€å…‰ç¯: æ¯10ç –å—æ¢å¤1è¡€
- æŠ¤ç›¾å¼ºåŒ–: æ¯å…³å¼€å§‹è·å¾—1å±‚æŠ¤ç›¾
- æŒ¡æ¿å»¶é•¿: å®½åº¦+30%
- è€ä¹…æå‡: è€ä¹…+50%
- ä¿®å¤åŠ é€Ÿ: ä¿®å¤é€Ÿåº¦+100%

æœºåˆ¶å‹ (5ç§):
- ç»éªŒç£åŠ›: å¸å¼•èŒƒå›´Ã—2
- å¤šçƒå‘å°„: æ¯å…³å¼€å§‹3ä¸ªçƒ
- æ—¶é—´å‡é€Ÿ: çƒé€Ÿ-20%
- ç²¾å‡†æ§åˆ¶: ç§»é€Ÿ+20%
- å¹¸è¿å…‰ç¯: PowerUpæ‰è½+50%

ç‰¹æ®Šå‹ (10ç§):
- å…ƒç´ ç²¾é€š: å…ƒç´ çƒæ•ˆæœ+100%
- Bossæ€æ‰‹: å¯¹BOSSä¼¤å®³+200%
- è¿å‡»å¤§å¸ˆ: è¿å‡»è¶…æ—¶+2ç§’
- è´ªå©ª: ç»éªŒÃ—1.5, ç”Ÿå‘½-1
- ç»ç’ƒå¤§ç‚®: ä¼¤å®³Ã—2, è€ä¹…-50%
- ... (å¦å¤–5ç§)
```

**ç¨€æœ‰åº¦æƒé‡**:
- æ™®é€š (Common): 50% - 10-20%å±æ€§æå‡
- ç¨€æœ‰ (Rare): 30% - 30-50%å¢å¼º + å°æœºåˆ¶
- å²è¯— (Epic): 15% - ç‹¬ç‰¹æœºåˆ¶
- ä¼ è¯´ (Legendary): 5% - æ”¹å˜ç©æ³•

**ååŒæ•ˆåº”ç³»ç»Ÿ**:
- **ç ´åååŒ** (ä¼¤å®³å¢å¹… + é€Ÿåº¦ç‹‚æš´): é¢å¤–+20%ä¼¤å®³å’Œé€Ÿåº¦
- **ç”Ÿå­˜å¤§å¸ˆ** (å¸è¡€å…‰ç¯ + æŠ¤ç›¾å¼ºåŒ–): æŠ¤ç›¾å±‚æ•°+1
- **å¼¹å¹•é£æš´** (åˆ†è£‚å…‰ç¯ + å¤šçƒå‘å°„): åˆ†è£‚å°çƒæ•°é‡+1

**å‡çº§é€‰æ‹©æœºåˆ¶**:
- æƒé‡: 60%å±æ€§æå‡ + 40%é—ç‰©
- 3é€‰1ç•Œé¢ (LevelUpChoiceUI)
- æŒ‰ç¨€æœ‰åº¦åŠ æƒéšæœºç”Ÿæˆ
- æ’é™¤å·²æ‹¥æœ‰é—ç‰©

---

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ (ä¼˜å…ˆçº§)

### 1. å®ŒæˆDevToolsé…ç½® (5åˆ†é’Ÿ) â­ï¸
**ç¼–è¾‘å™¨æ“ä½œæ¸…å•**:
- [ ] é€‰ä¸­Canvas/DevToolsPanelèŠ‚ç‚¹
- [ ] æ·»åŠ DevToolsUIç»„ä»¶
- [ ] é…ç½®4ä¸ªå±æ€§:
  - levelInput â†’ DevToolsPanel/InputGroup/LevelInput
  - applyButton â†’ DevToolsPanel/ApplyButton
  - infoLabel â†’ DevToolsPanel/InfoLabel
  - panelNode â†’ DevToolsPanel (è‡ªèº«)
- [ ] ä¿å­˜åœºæ™¯ (Ctrl+S)

### 2. æµ‹è¯•å½“å‰ä¿®å¤ (10åˆ†é’Ÿ)
- [ ] åˆ·æ–°æ¸¸æˆéªŒè¯æ— æ ˆæº¢å‡º
- [ ] æŒ‰F1æµ‹è¯•DevToolsé¢æ¿
- [ ] è¾“å…¥å…³å¡æ•°å­—æµ‹è¯•éš¾åº¦ç³»ç»Ÿ
- [ ] éªŒè¯ç –å—ä¸è¶Šç•Œ

### 3. å¼€å§‹ç»éªŒå€¼ç³»ç»Ÿ Day 1 (æ˜æ—¥) ğŸ“…
**ä»»åŠ¡**: ç­‰çº§ç³»ç»Ÿ Day 1 - ExperienceManager + ExperienceBar UI
**å‚è€ƒæ–‡æ¡£**: `today/2025-10-03/level_system_plan.md`

**ç¼–è¾‘å™¨æ“ä½œæ¸…å•**:
1. åœ¨GameSceneä¸­åˆ›å»ºExperienceManagerèŠ‚ç‚¹
2. é…ç½®å‚æ•°: baseExperienceRequired=100, maxLevel=50
3. åˆ›å»ºExperienceBar UI (å‚è€ƒDevToolså¸ƒå±€)
4. ä¿å­˜åœºæ™¯

**ä»£ç å®ç°æ¸…å•**:
1. åˆ›å»ºExperienceManager.ts (230è¡Œ)
2. åˆ›å»ºExperienceBar.ts (UIç»„ä»¶)
3. ä¿®æ”¹EnhancedPaddleController.ts (ç»éªŒçƒæ”¶é›†é€»è¾‘)

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### å½“å‰é˜¶æ®µ (DevTools + ä¿®å¤éªŒè¯)
- [ ] DevTools UIæ­£å¸¸å·¥ä½œ
- [ ] F1é”®æ‰“å¼€/å…³é—­é¢æ¿
- [ ] å…³å¡åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- [ ] ç –å—ä¸è¶…å‡ºå¢™å£è¾¹ç•Œ

### ä¸‹é˜¶æ®µ (ç»éªŒå€¼ç³»ç»Ÿ Day 1-3)
- [ ] ExperienceManagerå•ä¾‹æ­£å¸¸å·¥ä½œ
- [ ] ç»éªŒå€¼æ”¶é›†ä¸å‡çº§æµç¨‹å®Œæ•´
- [ ] ExperienceBar UIæ­£ç¡®æ˜¾ç¤ºè¿›åº¦
- [ ] PlayerStatsManagerå±æ€§æå‡ç”Ÿæ•ˆ

### åç»­é˜¶æ®µ (ç»éªŒçƒç³»ç»Ÿ Day 4-5)
- [ ] ExperienceOrb.prefabå››ç§ç±»å‹æ­£å¸¸ç”Ÿæˆ
- [ ] ç –å—æ‰è½æ¦‚ç‡ç¬¦åˆè®¾è®¡ (8%åŸºç¡€)
- [ ] ç£åŠ›å¸å¼•ç³»ç»Ÿæµç•…
- [ ] è¿å‡»ç³»ç»Ÿæ­£ç¡®è®¡æ•°å’Œå¥–åŠ±

### æœ€ç»ˆé˜¶æ®µ (é—ç‰©ç³»ç»Ÿ Day 6-12)
- [ ] 25ç§é—ç‰©æ•ˆæœå…¨éƒ¨å®ç°
- [ ] å‡çº§é€‰æ‹©ç•Œé¢3é€‰1æ­£å¸¸å·¥ä½œ
- [ ] é—ç‰©ååŒæ•ˆåº”æ­£ç¡®è§¦å‘
- [ ] RelicUIæ˜¾ç¤ºå®Œæ•´

---

## ğŸ“Š ç³»ç»Ÿè§„åˆ’å®Œæ•´æ€§éªŒè¯

### ä¸‰å¤§ç³»ç»Ÿè§„åˆ’æ–‡æ¡£å·²å®Œæˆ
- âœ… `level_system_plan.md` (3å¤©, 230è¡Œä»£ç  + ç¼–è¾‘å™¨æ“ä½œ)
- âœ… `experience_orb_plan.md` (2å¤©, 400è¡Œä»£ç  + Prefabåˆ›å»º)
- âœ… `relic_system_plan.md` (7å¤©, 600+è¡Œä»£ç  + UIç³»ç»Ÿ)

### æ€»ä½“å·¥æœŸ: 12å¤©
- Week 1 (Day 1-7): ç­‰çº§ç³»ç»Ÿ(3å¤©) + ç»éªŒçƒç³»ç»Ÿ(2å¤©) + é—ç‰©æ‰©å±•(2å¤©)
- Week 2 (Day 8-12): é—ç‰©æ•ˆæœå®ç°(2å¤©) + ååŒç³»ç»Ÿ(1å¤©) + UIä¸æµ‹è¯•(2å¤©)

### æ ¸å¿ƒè®¾è®¡éªŒè¯
- [x] ç»éªŒå€¼å…¬å¼åˆç† (`100 * 1.15^(level-1)`)
- [x] æ‰è½æ¦‚ç‡å¹³è¡¡ (8%åŸºç¡€ + åŠ æˆ)
- [x] é—ç‰©æ•°é‡å……è¶³ (25ç§è¦†ç›–4å¤§ç±»)
- [x] ç¨€æœ‰åº¦æƒé‡åˆç† (æ™®é€š50% â†’ ä¼ è¯´5%)
- [x] ååŒæ•ˆåº”è®¾è®¡å®Œæ•´ (3ç»„åˆå§‹ååŒ)
- [x] UI/UXæµç¨‹æ¸…æ™° (3é€‰1å‡çº§ç•Œé¢)

---

**å®ŒæˆDevToolsé…ç½®åå‘ŠçŸ¥æˆ‘ï¼Œæˆ‘å°†å¼€å§‹ç»éªŒå€¼ç³»ç»ŸDay 1å®ç°ï¼**
